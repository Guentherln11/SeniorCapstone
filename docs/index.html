<!DOCTYPE html>
<html>
<head>
    <title>Archaeology Site Tours</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>
<body>
    <header>
        <h1>Archaeology Site Tours</h1>
    </header>
    <nav>
        <ul>
            <li>Site 1</li>
            <li>Site 2</li>
        </ul>
    </nav>
<section>
    <aside>
        <img src="images/maptemplate.jpg" width="400px">
    </aside>
    <article>
        <h2>The Berry Site</h2>
        <p>Site information here</p>
    </article>
</section>
<h2>------WIP STUFF/STUFF WAITING FOR PLACEMENT------</h2>
</body>
<!--Script for displaying the NC county map-->
<script src="../scripts/ncMap.js"></script>
<body>
    <div class="scrollable-container">
        <img src="images/ScrollTest.jpg" />
    </div>
    <script>
        const container = document.querySelector('.scrollable-container');
        let startX, startY, scrollLeft, scrollTop, isDown, currentZoom;

        container.addEventListener('mousedown',e => mouseIsDown(e));
        container.addEventListener('mouseup',mouseIsUp);
        container.addEventListener('mousemove',e => mouseMove(e));
        container.addEventListener('mouseleave',mouseLeave);
        container.addEventListener('wheel',e => handleScroll(e), { passive: false })

        function handleScroll(e)
        {
            //disables scrolling up/down with mouse wheel, only click/drag will work
            e.preventDefault();
            // TODO: IMPLEMENT ZOOM-IN/ZOOM-OUT WITH MOUSE SCROLL
        }

        function mouseIsDown(e)
        {
            e.preventDefault()
            isDown = true;
            startY = e.pageY - container.offsetTop;
            startX = e.pageX - container.offsetLeft;
            scrollLeft = container.scrollLeft;
            scrollTop = container.scrollTop;
        }

        function mouseIsUp()
        {
           isDown = false;
        }

        function mouseMove(e)
        {
            if(isDown)
            {
                e.preventDefault();
                const y = e.pageY - container.offsetTop;
                const walkY = y - startY;
                container.scrollTop = scrollTop - walkY;

                const x = e.pageX - container.offsetLeft;
                const walkX = x - startX;
                container.scrollLeft = scrollLeft - walkX;
            }
        }

        function mouseLeave()
        {
            isDown = false;
        }
    </script>
</body>
</html>
